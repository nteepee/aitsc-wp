/**
 * Enhanced Dark Theme Styles
 * Improved transitions and accessibility support
 */

/* Enhanced theme transition system */
.theme-transitioning *,
.theme-transitioning *::before,
.theme-transitioning *::after {
  transition: background-color 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important,
              border-color 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important,
              color 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important,
              box-shadow 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important,
              fill 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important,
              stroke 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important !important;
}

/* Prevent transitions during page load */
[data-theme-loading="true"] * {
  transition: none !important;
}

[data-theme-loaded="true"] * {
  transition: background-color 0.3s cubic-bezier(0.4, 0, 0.2, 1),
              border-color 0.3s cubic-bezier(0.4, 0, 0.2, 1),
              color 0.3s cubic-bezier(0.4, 0, 0.2, 1),
              box-shadow 0.3s cubic-bezier(0.4, 0, 0.2, 1),
              fill 0.3s cubic-bezier(0.4, 0, 0.2, 1),
              stroke 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

[data-theme="dark"] {
  /* Enhanced body transitions */
  body {
    background-color: var(--aitsc-color-bg);
    color: var(--aitsc-color-text);
    transition: background-color 0.4s cubic-bezier(0.4, 0, 0.2, 1),
                color 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
  }

  /* Header */
  .site-header {
    background-color: rgba(0, 0, 0, 0.95);
    border-bottom-color: var(--aitsc-color-border);
  }

  /* Navigation */
  .primary-menu a {
    color: var(--aitsc-color-text);
  }

  .primary-menu a:hover {
    color: var(--aitsc-color-neon);
  }

  /* Cards & Components */
  .solution-card,
  .case-study-card,
  .testimonial-card {
    background-color: var(--aitsc-color-bg-secondary);
    border-color: var(--aitsc-color-border);
  }

  /* Buttons */
  .button--primary {
    background-color: var(--aitsc-color-primary);
    color: #000;
  }

  .button--neon {
    border-color: var(--aitsc-color-neon);
    color: var(--aitsc-color-neon);
    box-shadow: 0 0 10px rgba(0, 225, 40, 0.3);
  }

  .button--neon:hover {
    background-color: var(--aitsc-color-neon);
    color: #000;
    box-shadow: 0 0 20px rgba(0, 225, 40, 0.5);
  }

  /* Forms */
  input,
  textarea,
  select {
    background-color: var(--aitsc-color-bg-secondary);
    border-color: var(--aitsc-color-border);
    color: var(--aitsc-color-text);
  }

  /* Footer */
  .site-footer {
    background-color: var(--aitsc-color-bg-secondary);
    border-top-color: var(--aitsc-color-border);
  }

  /* Neon appears brighter on dark background */
  .neon-badge {
    background-color: rgba(0, 225, 40, 0.15);
    box-shadow: 0 0 5px rgba(0, 225, 40, 0.2);
  }

  .button--neon {
    box-shadow: 0 0 15px rgba(0, 225, 40, 0.4);
  }

  /* Card borders more subtle in dark mode */
  .card {
    border-color: rgba(255, 255, 255, 0.1);
  }

  .card:hover {
    border-color: var(--aitsc-color-neon);
    box-shadow: 0 0 20px rgba(0, 225, 40, 0.3);
  }

  /* Focus rings for accessibility */
  input:focus,
  button:focus {
    outline: 2px solid var(--aitsc-color-neon);
    outline-offset: 2px;
  }
}

/* Theme Toggle Button Styles */
.theme-toggle {
  position: relative;
  background: transparent;
  border: 1px solid var(--aitsc-color-border);
  border-radius: 50%;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.3s ease;
  margin-left: 1rem;
}

.theme-toggle:hover {
  border-color: var(--aitsc-color-neon);
  box-shadow: 0 0 10px rgba(0, 225, 40, 0.3);
}

.theme-icon {
  font-size: 1.25rem;
  line-height: 1;
}

/* Smooth theme transitions */
* {
  transition-property: background-color, border-color, color;
  transition-duration: 0.3s;
  transition-timing-function: ease;
}
